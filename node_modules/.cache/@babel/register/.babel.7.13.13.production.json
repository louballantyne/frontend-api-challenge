{
  "{\"assumptions\":{},\"sourceRoot\":\"/Users/lou/Projects/Makers-Work/Week7/frontend-api-challenge/src/\",\"caller\":{\"name\":\"@babel/node\"},\"configFile\":false,\"cwd\":\"/Users/lou/Projects/Makers-Work/Week7/frontend-api-challenge\",\"filename\":\"/Users/lou/Projects/Makers-Work/Week7/frontend-api-challenge/src/interface.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"/Users/lou/Projects/Makers-Work/Week7/frontend-api-challenge\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.13.13:production": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "/Users/lou/Projects/Makers-Work/Week7/frontend-api-challenge/src/",
      "caller": {
        "name": "@babel/node"
      },
      "configFile": false,
      "cwd": "/Users/lou/Projects/Makers-Work/Week7/frontend-api-challenge",
      "filename": "/Users/lou/Projects/Makers-Work/Week7/frontend-api-challenge/src/interface.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "browserslistConfigFile": false,
      "envName": "production",
      "root": "/Users/lou/Projects/Makers-Work/Week7/frontend-api-challenge",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/lou/Projects/Makers-Work/Week7/frontend-api-challenge/src/interface.js",
        "plugins": [
          "numericSeparator",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/lou/Projects/Makers-Work/Week7/frontend-api-challenge/src/interface.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/lou/Projects/Makers-Work/Week7/frontend-api-challenge/src/",
        "sourceFileName": "interface.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\n$(document).ready(function () {\n  // Declare variables\n  let peeps = [];\n  var fetchHeaders = new Headers({\n    'Content-Type': 'application/json'\n  });\n  let token; // Load page\n\n  listPeepsOnPage();\n  checkSession(); // get peeps from server (get peeps), print them on the page\n\n  function reloadPeeps() {\n    getPeeps();\n    setTimeout(function () {\n      printPeeps();\n    }, 3000);\n  } // get peeps from server, print on page, hide single peep div and show peeps list div\n\n\n  function listPeepsOnPage() {\n    reloadPeeps();\n    hideFullPeep();\n    showPeepsList();\n  } // show single peep div and hide peeps list div\n\n\n  function showIndividualPeep() {\n    hidePeepsList();\n    showFullPeep();\n  } // get peeps from server\n\n\n  function getPeeps() {\n    fetch('https://chitter-backend-api-v2.herokuapp.com/peeps').then(response => response.json()).then(data => {\n      let i;\n      peeps = [];\n\n      for (i = 0; i < 10; i++) {\n        peeps.push({\n          id: data[i].id,\n          body: data[i].body,\n          created: data[i].created_at,\n          userId: data[i].user.id,\n          userHandle: data[i].user.handle,\n          likes: data[i].likes\n        });\n      }\n    });\n  }\n\n  async function postData(url = '', data = {}, headers = fetchHeaders) {\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: headers,\n      body: JSON.stringify(data)\n    }).then(reloadPeeps());\n    return response.json();\n  }\n\n  function login(handle, password) {\n    postData('https://chitter-backend-api-v2.herokuapp.com/sessions', data = {\n      session: {\n        \"handle\": handle,\n        \"password\": password\n      }\n    }).then(data => {\n      if (data.hasOwnProperty('errors')) {\n        window.alert(\"login failed\");\n      } else {\n        createSession(data);\n      }\n    });\n  } // If login is successful, add data to localStorage\n\n\n  function createSession(data) {\n    window.alert(\"login successful\");\n    window.localStorage.setItem(\"userId\", data.user_id);\n    window.localStorage.setItem(\"sessionKey\", data.session_key);\n    window.localStorage.setItem(\"handle\", handle);\n    window.localStorage.setItem(\"loggedIn\", \"true\");\n  } // Clear local storage on logout\n\n\n  function logout() {\n    window.localStorage.clear();\n  } // Print peeps list to the page\n\n\n  function printPeeps() {\n    $(\"#peep-list\").html(\"\");\n    peeps.forEach(function (peep) {\n      var div = document.createElement('div');\n      let likes = peep.likes.length;\n      div.setAttribute(\"id\", peeps.indexOf(peep));\n      div.innerHTML += peep.body + \"<br>\";\n      div.innerHTML += \"<img src = '../public/like.png'> \" + likes + \" likes<p>\";\n      $(\"#peep-list\").append(div);\n    });\n    console.log(peeps);\n  }\n\n  function hideFullPeep() {\n    $(\"#single-peep\").hide();\n  }\n\n  function showFullPeep() {\n    $(\"#single-peep\").show();\n  }\n\n  function showPeepsList() {\n    $(\"#peep-list\").show();\n  }\n\n  function hidePeepsList() {\n    $(\"#peep-list\").hide();\n  }\n\n  function checkSession() {\n    if (window.localStorage.getItem(\"loggedIn\") == \"true\") {\n      $(\"#welcome\").show();\n      $(\"#login\").hide();\n    } else {\n      $(\"#welcome\").hide();\n      $(\"#login\").show();\n    }\n  }\n\n  function createUser(handle, password) {\n    postData('https://chitter-backend-api-v2.herokuapp.com/users', data = {\n      user: {\n        \"handle\": handle,\n        \"password\": password\n      }\n    }).then(data => {\n      if (data.hasOwnProperty('id')) {\n        window.alert('User created');\n      } else {\n        window.alert('User creation failed');\n      }\n    });\n  }\n\n  async function deleteDataPeep(url = '', token) {\n    const response = await fetch(url, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Token token=${token}`\n      }\n    }).then(listPeepsOnPage());\n  }\n\n  async function putDataPeep(url = '', token) {\n    const response = await fetch(url, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Token token=${token}`\n      }\n    }).then(listPeepsOnPage());\n  }\n\n  function postPeep(peep) {\n    let userId = window.localStorage[\"userId\"];\n    let authHeaders = new Headers({\n      'Content-Type': 'application/json',\n      'Authorization': `Token token=${window.localStorage[\"sessionKey\"]}`\n    });\n    postData('https://chitter-backend-api-v2.herokuapp.com/peeps', data = {\n      \"peep\": {\n        \"user_id\": userId,\n        \"body\": peep\n      }\n    }, authHeaders);\n    setTimeout(function () {\n      reloadPeeps();\n    }, 5000);\n  }\n\n  function deletePeep(peep_id) {\n    let token = window.localStorage[\"sessionKey\"];\n    let url = 'https://chitter-backend-api-v2.herokuapp.com/peeps/' + peep_id;\n    deleteDataPeep(url, token);\n    reloadPeeps();\n  }\n\n  function likePeep(peep_id) {\n    let token = window.localStorage[\"sessionKey\"];\n    let userId = window.localStorage[\"userId\"];\n    let url = 'https://chitter-backend-api-v2.herokuapp.com/peeps/' + peep_id + '/likes/' + userId;\n    putDataPeep(url, token);\n    listPeepsOnPage();\n  }\n\n  function deleteLike(peep_id) {\n    let token = window.localStorage[\"sessionKey\"];\n    let userId = window.localStorage[\"userId\"];\n    let url = 'https://chitter-backend-api-v2.herokuapp.com/peeps/' + peep_id + '/likes/' + userId;\n    deleteDataPeep(url, token);\n    listPeepsOnPage();\n  } // Delete a peep when a button is clicked\n\n\n  $(\"#delete\").click(function (event) {\n    deletePeep(window.localStorage[\"peepId\"]);\n    listPeepsOnPage();\n  }); // Post a peep when the button is clicked\n\n  $(\"#post-peep\").click(function (event) {\n    let peep = document.getElementById('peep-text').value;\n    postPeep(peep);\n    $(\"#peep-text\").val(\" \");\n  }); // Show single peep when peep is clicked\n\n  $(\"#peep-list\").click(function (event) {\n    if (event.target !== this) {\n      showIndividualPeep();\n      let num = event.target.id;\n      let likes = peeps[num].likes.length;\n      $(\"#full-text\").html(peeps[num].body + \"<br>\");\n      $(\"#full-text\").append(\"<img src = '../public/like.png' id='like-peep'> \" + likes + \" likes\");\n      $(\"#full-text\").append(\"      <img src = '../public/unlike.png' id='unlike-peep'> \");\n      window.localStorage.setItem(\"peepId\", peeps[num].id);\n      listenForUnlike();\n      listenForLike();\n    }\n  }); // Add a like when like button is clicked in full peep text\n\n  function listenForLike() {\n    $(\"#like-peep\").click(function (event) {\n      likePeep(window.localStorage[\"peepId\"]);\n    });\n  } // Delete a like when un-like button is clicked in full peep text\n\n\n  function listenForUnlike() {\n    $(\"#unlike-peep\").click(function (event) {\n      deleteLike(window.localStorage[\"peepId\"]);\n    });\n  } // Sign out when button clicked\n\n\n  $(\"#sign-out\").click(function (event) {\n    logout();\n    setTimeout(function () {\n      checkSession();\n    }, 1000);\n  }); // Create new user when button clicked\n\n  $(\"#create\").click(function (event) {\n    createUser($(\"#handle\").val(), $(\"#password\").val());\n  }); // Sign in user when sign in button clicked\n\n  $(\"#sign-in\").click(function (event) {\n    login($(\"#handle\").val(), $(\"#password\").val());\n    setTimeout(function () {\n      checkSession();\n    }, 1000);\n  }); // Show list of all peeps when button clicked\n\n  $(\"#all-peeps-button\").click(function (event) {\n    window.localStorage.removeItem(\"peepId\");\n    listPeepsOnPage();\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImludGVyZmFjZS5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsInBlZXBzIiwiZmV0Y2hIZWFkZXJzIiwiSGVhZGVycyIsInRva2VuIiwibGlzdFBlZXBzT25QYWdlIiwiY2hlY2tTZXNzaW9uIiwicmVsb2FkUGVlcHMiLCJnZXRQZWVwcyIsInNldFRpbWVvdXQiLCJwcmludFBlZXBzIiwiaGlkZUZ1bGxQZWVwIiwic2hvd1BlZXBzTGlzdCIsInNob3dJbmRpdmlkdWFsUGVlcCIsImhpZGVQZWVwc0xpc3QiLCJzaG93RnVsbFBlZXAiLCJmZXRjaCIsInRoZW4iLCJyZXNwb25zZSIsImpzb24iLCJkYXRhIiwiaSIsInB1c2giLCJpZCIsImJvZHkiLCJjcmVhdGVkIiwiY3JlYXRlZF9hdCIsInVzZXJJZCIsInVzZXIiLCJ1c2VySGFuZGxlIiwiaGFuZGxlIiwibGlrZXMiLCJwb3N0RGF0YSIsInVybCIsImhlYWRlcnMiLCJtZXRob2QiLCJKU09OIiwic3RyaW5naWZ5IiwibG9naW4iLCJwYXNzd29yZCIsInNlc3Npb24iLCJoYXNPd25Qcm9wZXJ0eSIsIndpbmRvdyIsImFsZXJ0IiwiY3JlYXRlU2Vzc2lvbiIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJ1c2VyX2lkIiwic2Vzc2lvbl9rZXkiLCJsb2dvdXQiLCJjbGVhciIsImh0bWwiLCJmb3JFYWNoIiwicGVlcCIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJsZW5ndGgiLCJzZXRBdHRyaWJ1dGUiLCJpbmRleE9mIiwiaW5uZXJIVE1MIiwiYXBwZW5kIiwiY29uc29sZSIsImxvZyIsImhpZGUiLCJzaG93IiwiZ2V0SXRlbSIsImNyZWF0ZVVzZXIiLCJkZWxldGVEYXRhUGVlcCIsInB1dERhdGFQZWVwIiwicG9zdFBlZXAiLCJhdXRoSGVhZGVycyIsImRlbGV0ZVBlZXAiLCJwZWVwX2lkIiwibGlrZVBlZXAiLCJkZWxldGVMaWtlIiwiY2xpY2siLCJldmVudCIsImdldEVsZW1lbnRCeUlkIiwidmFsdWUiLCJ2YWwiLCJ0YXJnZXQiLCJudW0iLCJsaXN0ZW5Gb3JVbmxpa2UiLCJsaXN0ZW5Gb3JMaWtlIiwicmVtb3ZlSXRlbSJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsQ0FBQyxDQUFFQyxRQUFGLENBQUQsQ0FBY0MsS0FBZCxDQUFvQixZQUFXO0FBQzdCO0FBQ0EsTUFBSUMsS0FBSyxHQUFHLEVBQVo7QUFDQSxNQUFJQyxZQUFZLEdBQUcsSUFBSUMsT0FBSixDQUFZO0FBQUMsb0JBQWdCO0FBQWpCLEdBQVosQ0FBbkI7QUFDQSxNQUFJQyxLQUFKLENBSjZCLENBTTdCOztBQUNBQyxFQUFBQSxlQUFlO0FBQ2ZDLEVBQUFBLFlBQVksR0FSaUIsQ0FTN0I7O0FBQ0EsV0FBU0MsV0FBVCxHQUF3QjtBQUN0QkMsSUFBQUEsUUFBUTtBQUNSQyxJQUFBQSxVQUFVLENBQUMsWUFBVTtBQUNuQkMsTUFBQUEsVUFBVTtBQUNYLEtBRlMsRUFFUixJQUZRLENBQVY7QUFHRCxHQWY0QixDQWdCN0I7OztBQUNBLFdBQVNMLGVBQVQsR0FBMkI7QUFDekJFLElBQUFBLFdBQVc7QUFDWEksSUFBQUEsWUFBWTtBQUNaQyxJQUFBQSxhQUFhO0FBQ2QsR0FyQjRCLENBc0I3Qjs7O0FBQ0EsV0FBU0Msa0JBQVQsR0FBK0I7QUFDN0JDLElBQUFBLGFBQWE7QUFDYkMsSUFBQUEsWUFBWTtBQUNiLEdBMUI0QixDQTJCN0I7OztBQUNBLFdBQVNQLFFBQVQsR0FBcUI7QUFDbkJRLElBQUFBLEtBQUssQ0FBQyxvREFBRCxDQUFMLENBQ0NDLElBREQsQ0FDTUMsUUFBUSxJQUFJQSxRQUFRLENBQUNDLElBQVQsRUFEbEIsRUFFQ0YsSUFGRCxDQUVNRyxJQUFJLElBQUk7QUFDWixVQUFJQyxDQUFKO0FBQ0FwQixNQUFBQSxLQUFLLEdBQUcsRUFBUjs7QUFDQSxXQUFLb0IsQ0FBQyxHQUFHLENBQVQsRUFBWUEsQ0FBQyxHQUFHLEVBQWhCLEVBQW9CQSxDQUFDLEVBQXJCLEVBQXlCO0FBQ3ZCcEIsUUFBQUEsS0FBSyxDQUFDcUIsSUFB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ZWVrNy9mcm9udGVuZC1hcGktY2hhbGxlbmdlL3NyYy8iLCJzb3VyY2VzQ29udGVudCI6WyIkKCBkb2N1bWVudCApLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAvLyBEZWNsYXJlIHZhcmlhYmxlc1xuICBsZXQgcGVlcHMgPSBbXTtcbiAgdmFyIGZldGNoSGVhZGVycyA9IG5ldyBIZWFkZXJzKHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfSk7XG4gIGxldCB0b2tlbjtcblxuICAvLyBMb2FkIHBhZ2VcbiAgbGlzdFBlZXBzT25QYWdlKCk7XG4gIGNoZWNrU2Vzc2lvbigpO1xuICAvLyBnZXQgcGVlcHMgZnJvbSBzZXJ2ZXIgKGdldCBwZWVwcyksIHByaW50IHRoZW0gb24gdGhlIHBhZ2VcbiAgZnVuY3Rpb24gcmVsb2FkUGVlcHMgKCkge1xuICAgIGdldFBlZXBzKCk7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcHJpbnRQZWVwcygpO1xuICAgIH0sMzAwMCk7XG4gIH1cbiAgLy8gZ2V0IHBlZXBzIGZyb20gc2VydmVyLCBwcmludCBvbiBwYWdlLCBoaWRlIHNpbmdsZSBwZWVwIGRpdiBhbmQgc2hvdyBwZWVwcyBsaXN0IGRpdlxuICBmdW5jdGlvbiBsaXN0UGVlcHNPblBhZ2UoKSB7XG4gICAgcmVsb2FkUGVlcHMoKTtcbiAgICBoaWRlRnVsbFBlZXAoKTtcbiAgICBzaG93UGVlcHNMaXN0KCk7XG4gIH1cbiAgLy8gc2hvdyBzaW5nbGUgcGVlcCBkaXYgYW5kIGhpZGUgcGVlcHMgbGlzdCBkaXZcbiAgZnVuY3Rpb24gc2hvd0luZGl2aWR1YWxQZWVwICgpIHtcbiAgICBoaWRlUGVlcHNMaXN0KCk7XG4gICAgc2hvd0Z1bGxQZWVwKCk7XG4gIH1cbiAgLy8gZ2V0IHBlZXBzIGZyb20gc2VydmVyXG4gIGZ1bmN0aW9uIGdldFBlZXBzICgpIHtcbiAgICBmZXRjaCgnaHR0cHM6Ly9jaGl0dGVyLWJhY2tlbmQtYXBpLXYyLmhlcm9rdWFwcC5jb20vcGVlcHMnKVxuICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAudGhlbihkYXRhID0+IHtcbiAgICAgIGxldCBpO1xuICAgICAgcGVlcHMgPSBbXTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgIHBlZXBzLnB1c2goe2lkOiBkYXRhW2ldLmlkLCBib2R5OiBkYXRhW2ldLmJvZHksIGNyZWF0ZWQ6IGRhdGFbaV0uY3JlYXRlZF9hdCwgdXNlcklkOiBkYXRhW2ldLnVzZXIuaWQsIHVzZXJIYW5kbGU6IGRhdGFbaV0udXNlci5oYW5kbGUsIGxpa2VzOiBkYXRhW2ldLmxpa2VzfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBwb3N0RGF0YSAodXJsID0gJycsIGRhdGEgPSB7fSwgaGVhZGVycyA9IGZldGNoSGVhZGVycykge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxuICAgIH0pLnRoZW4ocmVsb2FkUGVlcHMoKSk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvZ2luKGhhbmRsZSwgcGFzc3dvcmQpe1xuICAgIHBvc3REYXRhKCdodHRwczovL2NoaXR0ZXItYmFja2VuZC1hcGktdjIuaGVyb2t1YXBwLmNvbS9zZXNzaW9ucycsIGRhdGEgPSB7c2Vzc2lvbjoge1wiaGFuZGxlXCI6IGhhbmRsZSwgXCJwYXNzd29yZFwiOiBwYXNzd29yZH19KVxuICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoJ2Vycm9ycycpKXtcbiAgICAgICAgd2luZG93LmFsZXJ0KFwibG9naW4gZmFpbGVkXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3JlYXRlU2Vzc2lvbihkYXRhKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuLy8gSWYgbG9naW4gaXMgc3VjY2Vzc2Z1bCwgYWRkIGRhdGEgdG8gbG9jYWxTdG9yYWdlXG4gIGZ1bmN0aW9uIGNyZWF0ZVNlc3Npb24oZGF0YSkge1xuICAgIHdpbmRvdy5hbGVydChcImxvZ2luIHN1Y2Nlc3NmdWxcIik7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidXNlcklkXCIsIGRhdGEudXNlcl9pZCk7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic2Vzc2lvbktleVwiLCBkYXRhLnNlc3Npb25fa2V5KTtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJoYW5kbGVcIiwgaGFuZGxlKTtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJsb2dnZWRJblwiLCBcInRydWVcIik7XG4gIH1cblxuLy8gQ2xlYXIgbG9jYWwgc3RvcmFnZSBvbiBsb2dvdXRcbiAgZnVuY3Rpb24gbG9nb3V0KCl7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5jbGVhcigpO1xuICB9XG5cbi8vIFByaW50IHBlZXBzIGxpc3QgdG8gdGhlIHBhZ2VcbiAgZnVuY3Rpb24gcHJpbnRQZWVwcygpe1xuICAgICQoXCIjcGVlcC1saXN0XCIpLmh0bWwoXCJcIik7XG4gICAgcGVlcHMuZm9yRWFjaChmdW5jdGlvbihwZWVwKXtcbiAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGxldCBsaWtlcyA9IHBlZXAubGlrZXMubGVuZ3RoO1xuICAgICAgZGl2LnNldEF0dHJpYnV0ZShcImlkXCIsIHBlZXBzLmluZGV4T2YocGVlcCkpO1xuICAgICAgZGl2LmlubmVySFRNTCArPSBwZWVwLmJvZHkgKyBcIjxicj5cIjtcbiAgICAgIGRpdi5pbm5lckhUTUwgKz0gXCI8aW1nIHNyYyA9ICcuLi9wdWJsaWMvbGlrZS5wbmcnPiBcIiArIGxpa2VzICsgXCIgbGlrZXM8cD5cIjtcbiAgICAgICQoXCIjcGVlcC1saXN0XCIpLmFwcGVuZChkaXYpO1xuICAgIH0pO1xuICAgIGNvbnNvbGUubG9nKHBlZXBzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhpZGVGdWxsUGVlcCgpe1xuICAgICQoXCIjc2luZ2xlLXBlZXBcIikuaGlkZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvd0Z1bGxQZWVwKCl7XG4gICAgJChcIiNzaW5nbGUtcGVlcFwiKS5zaG93KCk7XG4gIH1cblxuICBmdW5jdGlvbiBzaG93UGVlcHNMaXN0ICgpe1xuICAgICQoXCIjcGVlcC1saXN0XCIpLnNob3coKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhpZGVQZWVwc0xpc3QgKCl7XG4gICAgJChcIiNwZWVwLWxpc3RcIikuaGlkZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tTZXNzaW9uKCl7XG4gICAgaWYgKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImxvZ2dlZEluXCIpID09IFwidHJ1ZVwiKXtcbiAgICAgICQoXCIjd2VsY29tZVwiKS5zaG93KCk7XG4gICAgICAkKFwiI2xvZ2luXCIpLmhpZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJChcIiN3ZWxjb21lXCIpLmhpZGUoKTtcbiAgICAgICQoXCIjbG9naW5cIikuc2hvdygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVVzZXIgKGhhbmRsZSwgcGFzc3dvcmQpIHtcbiAgICBwb3N0RGF0YSgnaHR0cHM6Ly9jaGl0dGVyLWJhY2tlbmQtYXBpLXYyLmhlcm9rdWFwcC5jb20vdXNlcnMnLCBkYXRhID0ge3VzZXI6IHtcImhhbmRsZVwiOiBoYW5kbGUsIFwicGFzc3dvcmRcIjogcGFzc3dvcmR9fSlcbiAgICAudGhlbiAoZGF0YSA9PiB7XG4gICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eSgnaWQnKSl7XG4gICAgICAgIHdpbmRvdy5hbGVydCgnVXNlciBjcmVhdGVkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cuYWxlcnQoJ1VzZXIgY3JlYXRpb24gZmFpbGVkJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBkZWxldGVEYXRhUGVlcCAodXJsID0gJycsIHRva2VuKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICdBdXRob3JpemF0aW9uJzogYFRva2VuIHRva2VuPSR7dG9rZW59YFxuICAgICAgfSxcbiAgICB9KS50aGVuKGxpc3RQZWVwc09uUGFnZSgpKTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIHB1dERhdGFQZWVwICh1cmwgPSAnJywgdG9rZW4pIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgVG9rZW4gdG9rZW49JHt0b2tlbn1gXG4gICAgICB9LFxuICAgIH0pLnRoZW4obGlzdFBlZXBzT25QYWdlKClcbiAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvc3RQZWVwIChwZWVwKSB7XG4gICAgbGV0IHVzZXJJZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2VbXCJ1c2VySWRcIl07XG4gICAgbGV0IGF1dGhIZWFkZXJzID0gbmV3IEhlYWRlcnMoe1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICdBdXRob3JpemF0aW9uJzogYFRva2VuIHRva2VuPSR7d2luZG93LmxvY2FsU3RvcmFnZVtcInNlc3Npb25LZXlcIl19YH0pO1xuICAgIHBvc3REYXRhKCdodHRwczovL2NoaXR0ZXItYmFja2VuZC1hcGktdjIuaGVyb2t1YXBwLmNvbS9wZWVwcycsIGRhdGEgPSB7XCJwZWVwXCI6IHtcInVzZXJfaWRcIjp1c2VySWQsIFwiYm9keVwiOnBlZXB9fSwgYXV0aEhlYWRlcnMpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgcmVsb2FkUGVlcHMoKTtcbiAgICB9LCA1MDAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlbGV0ZVBlZXAgKHBlZXBfaWQpIHtcbiAgICBsZXQgdG9rZW4gPSB3aW5kb3cubG9jYWxTdG9yYWdlW1wic2Vzc2lvbktleVwiXTtcbiAgICBsZXQgdXJsID0gJ2h0dHBzOi8vY2hpdHRlci1iYWNrZW5kLWFwaS12Mi5oZXJva3VhcHAuY29tL3BlZXBzLycgKyBwZWVwX2lkO1xuICAgIGRlbGV0ZURhdGFQZWVwKHVybCwgdG9rZW4pO1xuICAgIHJlbG9hZFBlZXBzKCk7XG4gIH1cblxuICBmdW5jdGlvbiBsaWtlUGVlcCAocGVlcF9pZCkge1xuICAgIGxldCB0b2tlbiA9IHdpbmRvdy5sb2NhbFN0b3JhZ2VbXCJzZXNzaW9uS2V5XCJdO1xuICAgIGxldCB1c2VySWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlW1widXNlcklkXCJdO1xuICAgIGxldCB1cmwgPSAnaHR0cHM6Ly9jaGl0dGVyLWJhY2tlbmQtYXBpLXYyLmhlcm9rdWFwcC5jb20vcGVlcHMvJyArIHBlZXBfaWQgKyAnL2xpa2VzLycgKyB1c2VySWQ7XG4gICAgcHV0RGF0YVBlZXAodXJsLCB0b2tlbik7XG4gICAgbGlzdFBlZXBzT25QYWdlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWxldGVMaWtlKHBlZXBfaWQpIHtcbiAgICBsZXQgdG9rZW4gPSB3aW5kb3cubG9jYWxTdG9yYWdlW1wic2Vzc2lvbktleVwiXTtcbiAgICBsZXQgdXNlcklkID0gd2luZG93LmxvY2FsU3RvcmFnZVtcInVzZXJJZFwiXTtcbiAgICBsZXQgdXJsID0gJ2h0dHBzOi8vY2hpdHRlci1iYWNrZW5kLWFwaS12Mi5oZXJva3VhcHAuY29tL3BlZXBzLycgKyBwZWVwX2lkICsgJy9saWtlcy8nICsgdXNlcklkO1xuICAgIGRlbGV0ZURhdGFQZWVwKHVybCwgdG9rZW4pO1xuICAgIGxpc3RQZWVwc09uUGFnZSgpO1xuICB9XG5cbi8vIERlbGV0ZSBhIHBlZXAgd2hlbiBhIGJ1dHRvbiBpcyBjbGlja2VkXG4kKFwiI2RlbGV0ZVwiKS5jbGljayhmdW5jdGlvbihldmVudCl7XG4gICAgZGVsZXRlUGVlcCh3aW5kb3cubG9jYWxTdG9yYWdlW1wicGVlcElkXCJdKTtcbiAgICBsaXN0UGVlcHNPblBhZ2UoKTtcbiAgfSk7XG5cbi8vIFBvc3QgYSBwZWVwIHdoZW4gdGhlIGJ1dHRvbiBpcyBjbGlja2VkXG4kKFwiI3Bvc3QtcGVlcFwiKS5jbGljayhmdW5jdGlvbihldmVudCl7XG4gICAgbGV0IHBlZXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGVlcC10ZXh0JykudmFsdWU7XG4gICAgcG9zdFBlZXAocGVlcCk7XG4gICAgJChcIiNwZWVwLXRleHRcIikudmFsKFwiIFwiKTtcbiAgfSk7XG5cbi8vIFNob3cgc2luZ2xlIHBlZXAgd2hlbiBwZWVwIGlzIGNsaWNrZWRcbiQoXCIjcGVlcC1saXN0XCIpLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgaWYgKGV2ZW50LnRhcmdldCAhPT0gdGhpcykge1xuICAgICAgIHNob3dJbmRpdmlkdWFsUGVlcCgpO1xuICAgICAgIGxldCBudW0gPSBldmVudC50YXJnZXQuaWQ7XG4gICAgICAgbGV0IGxpa2VzID0gcGVlcHNbbnVtXS5saWtlcy5sZW5ndGg7XG4gICAgICAgJChcIiNmdWxsLXRleHRcIikuaHRtbChwZWVwc1tudW1dLmJvZHkgKyBcIjxicj5cIik7XG4gICAgICAgJChcIiNmdWxsLXRleHRcIikuYXBwZW5kKFwiPGltZyBzcmMgPSAnLi4vcHVibGljL2xpa2UucG5nJyBpZD0nbGlrZS1wZWVwJz4gXCIgKyBsaWtlcyArIFwiIGxpa2VzXCIpO1xuICAgICAgICQoXCIjZnVsbC10ZXh0XCIpLmFwcGVuZChcIiAgICAgIDxpbWcgc3JjID0gJy4uL3B1YmxpYy91bmxpa2UucG5nJyBpZD0ndW5saWtlLXBlZXAnPiBcIik7XG4gICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicGVlcElkXCIscGVlcHNbbnVtXS5pZCk7XG4gICAgICAgbGlzdGVuRm9yVW5saWtlKCk7XG4gICAgICAgbGlzdGVuRm9yTGlrZSgpO1xuICAgICB9XG4gIH0pO1xuXG4vLyBBZGQgYSBsaWtlIHdoZW4gbGlrZSBidXR0b24gaXMgY2xpY2tlZCBpbiBmdWxsIHBlZXAgdGV4dFxuZnVuY3Rpb24gbGlzdGVuRm9yTGlrZSAoKSB7XG4gICQoXCIjbGlrZS1wZWVwXCIpLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KXtcbiAgICBsaWtlUGVlcCh3aW5kb3cubG9jYWxTdG9yYWdlW1wicGVlcElkXCJdKTtcbiAgfSk7XG59XG5cbi8vIERlbGV0ZSBhIGxpa2Ugd2hlbiB1bi1saWtlIGJ1dHRvbiBpcyBjbGlja2VkIGluIGZ1bGwgcGVlcCB0ZXh0XG5mdW5jdGlvbiBsaXN0ZW5Gb3JVbmxpa2UgKCkge1xuICAkKFwiI3VubGlrZS1wZWVwXCIpLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KXtcbiAgICBkZWxldGVMaWtlKHdpbmRvdy5sb2NhbFN0b3JhZ2VbXCJwZWVwSWRcIl0pO1xuICB9KTtcbn1cblxuLy8gU2lnbiBvdXQgd2hlbiBidXR0b24gY2xpY2tlZFxuJChcIiNzaWduLW91dFwiKS5jbGljayhmdW5jdGlvbihldmVudCl7XG4gICAgbG9nb3V0KCk7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBjaGVja1Nlc3Npb24oKTtcbiAgICB9LCAxMDAwKTtcbiAgfSk7XG5cbi8vIENyZWF0ZSBuZXcgdXNlciB3aGVuIGJ1dHRvbiBjbGlja2VkXG4kKFwiI2NyZWF0ZVwiKS5jbGljayhmdW5jdGlvbihldmVudCl7XG4gICAgY3JlYXRlVXNlcigkKFwiI2hhbmRsZVwiKS52YWwoKSwgJChcIiNwYXNzd29yZFwiKS52YWwoKSk7XG4gIH0pO1xuXG4vLyBTaWduIGluIHVzZXIgd2hlbiBzaWduIGluIGJ1dHRvbiBjbGlja2VkXG4kKFwiI3NpZ24taW5cIikuY2xpY2soZnVuY3Rpb24oZXZlbnQpe1xuICAgIGxvZ2luKCQoXCIjaGFuZGxlXCIpLnZhbCgpLCAkKFwiI3Bhc3N3b3JkXCIpLnZhbCgpKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGNoZWNrU2Vzc2lvbigpO1xuICAgIH0sIDEwMDApO1xuICB9KTtcblxuLy8gU2hvdyBsaXN0IG9mIGFsbCBwZWVwcyB3aGVuIGJ1dHRvbiBjbGlja2VkXG4kKFwiI2FsbC1wZWVwcy1idXR0b25cIikuY2xpY2soZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwicGVlcElkXCIpO1xuICAgICAgbGlzdFBlZXBzT25QYWdlKCk7XG4gICB9KTtcblxufSk7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "interface.js"
      ],
      "names": [
        "$",
        "document",
        "ready",
        "peeps",
        "fetchHeaders",
        "Headers",
        "token",
        "listPeepsOnPage",
        "checkSession",
        "reloadPeeps",
        "getPeeps",
        "setTimeout",
        "printPeeps",
        "hideFullPeep",
        "showPeepsList",
        "showIndividualPeep",
        "hidePeepsList",
        "showFullPeep",
        "fetch",
        "then",
        "response",
        "json",
        "data",
        "i",
        "push",
        "id",
        "body",
        "created",
        "created_at",
        "userId",
        "user",
        "userHandle",
        "handle",
        "likes",
        "postData",
        "url",
        "headers",
        "method",
        "JSON",
        "stringify",
        "login",
        "password",
        "session",
        "hasOwnProperty",
        "window",
        "alert",
        "createSession",
        "localStorage",
        "setItem",
        "user_id",
        "session_key",
        "logout",
        "clear",
        "html",
        "forEach",
        "peep",
        "div",
        "createElement",
        "length",
        "setAttribute",
        "indexOf",
        "innerHTML",
        "append",
        "console",
        "log",
        "hide",
        "show",
        "getItem",
        "createUser",
        "deleteDataPeep",
        "putDataPeep",
        "postPeep",
        "authHeaders",
        "deletePeep",
        "peep_id",
        "likePeep",
        "deleteLike",
        "click",
        "event",
        "getElementById",
        "value",
        "val",
        "target",
        "num",
        "listenForUnlike",
        "listenForLike",
        "removeItem"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/lou/Projects/Makers-Work/Week7/frontend-api-challenge/src/",
      "sourcesContent": [
        "$( document ).ready(function() {\n  // Declare variables\n  let peeps = [];\n  var fetchHeaders = new Headers({'Content-Type': 'application/json'});\n  let token;\n\n  // Load page\n  listPeepsOnPage();\n  checkSession();\n  // get peeps from server (get peeps), print them on the page\n  function reloadPeeps () {\n    getPeeps();\n    setTimeout(function(){\n      printPeeps();\n    },3000);\n  }\n  // get peeps from server, print on page, hide single peep div and show peeps list div\n  function listPeepsOnPage() {\n    reloadPeeps();\n    hideFullPeep();\n    showPeepsList();\n  }\n  // show single peep div and hide peeps list div\n  function showIndividualPeep () {\n    hidePeepsList();\n    showFullPeep();\n  }\n  // get peeps from server\n  function getPeeps () {\n    fetch('https://chitter-backend-api-v2.herokuapp.com/peeps')\n    .then(response => response.json())\n    .then(data => {\n      let i;\n      peeps = [];\n      for (i = 0; i < 10; i++) {\n        peeps.push({id: data[i].id, body: data[i].body, created: data[i].created_at, userId: data[i].user.id, userHandle: data[i].user.handle, likes: data[i].likes});\n      }\n    });\n  }\n\n  async function postData (url = '', data = {}, headers = fetchHeaders) {\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: headers,\n      body: JSON.stringify(data)\n    }).then(reloadPeeps());\n    return response.json();\n  }\n\n  function login(handle, password){\n    postData('https://chitter-backend-api-v2.herokuapp.com/sessions', data = {session: {\"handle\": handle, \"password\": password}})\n    .then(data => {\n      if (data.hasOwnProperty('errors')){\n        window.alert(\"login failed\");\n      } else {\n        createSession(data);\n      }\n    });\n  }\n// If login is successful, add data to localStorage\n  function createSession(data) {\n    window.alert(\"login successful\");\n    window.localStorage.setItem(\"userId\", data.user_id);\n    window.localStorage.setItem(\"sessionKey\", data.session_key);\n    window.localStorage.setItem(\"handle\", handle);\n    window.localStorage.setItem(\"loggedIn\", \"true\");\n  }\n\n// Clear local storage on logout\n  function logout(){\n    window.localStorage.clear();\n  }\n\n// Print peeps list to the page\n  function printPeeps(){\n    $(\"#peep-list\").html(\"\");\n    peeps.forEach(function(peep){\n      var div = document.createElement('div');\n      let likes = peep.likes.length;\n      div.setAttribute(\"id\", peeps.indexOf(peep));\n      div.innerHTML += peep.body + \"<br>\";\n      div.innerHTML += \"<img src = '../public/like.png'> \" + likes + \" likes<p>\";\n      $(\"#peep-list\").append(div);\n    });\n    console.log(peeps);\n  }\n\n  function hideFullPeep(){\n    $(\"#single-peep\").hide();\n  }\n\n  function showFullPeep(){\n    $(\"#single-peep\").show();\n  }\n\n  function showPeepsList (){\n    $(\"#peep-list\").show();\n  }\n\n  function hidePeepsList (){\n    $(\"#peep-list\").hide();\n  }\n\n  function checkSession(){\n    if (window.localStorage.getItem(\"loggedIn\") == \"true\"){\n      $(\"#welcome\").show();\n      $(\"#login\").hide();\n    } else {\n      $(\"#welcome\").hide();\n      $(\"#login\").show();\n    }\n  }\n\n  function createUser (handle, password) {\n    postData('https://chitter-backend-api-v2.herokuapp.com/users', data = {user: {\"handle\": handle, \"password\": password}})\n    .then (data => {\n      if (data.hasOwnProperty('id')){\n        window.alert('User created');\n      } else {\n        window.alert('User creation failed');\n      }\n    });\n  }\n\n  async function deleteDataPeep (url = '', token) {\n    const response = await fetch(url, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Token token=${token}`\n      },\n    }).then(listPeepsOnPage());\n  }\n\n  async function putDataPeep (url = '', token) {\n    const response = await fetch(url, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Token token=${token}`\n      },\n    }).then(listPeepsOnPage()\n  );\n  }\n\n  function postPeep (peep) {\n    let userId = window.localStorage[\"userId\"];\n    let authHeaders = new Headers({\n      'Content-Type': 'application/json',\n      'Authorization': `Token token=${window.localStorage[\"sessionKey\"]}`});\n    postData('https://chitter-backend-api-v2.herokuapp.com/peeps', data = {\"peep\": {\"user_id\":userId, \"body\":peep}}, authHeaders);\n    setTimeout(function () {\n      reloadPeeps();\n    }, 5000);\n  }\n\n  function deletePeep (peep_id) {\n    let token = window.localStorage[\"sessionKey\"];\n    let url = 'https://chitter-backend-api-v2.herokuapp.com/peeps/' + peep_id;\n    deleteDataPeep(url, token);\n    reloadPeeps();\n  }\n\n  function likePeep (peep_id) {\n    let token = window.localStorage[\"sessionKey\"];\n    let userId = window.localStorage[\"userId\"];\n    let url = 'https://chitter-backend-api-v2.herokuapp.com/peeps/' + peep_id + '/likes/' + userId;\n    putDataPeep(url, token);\n    listPeepsOnPage();\n  }\n\n  function deleteLike(peep_id) {\n    let token = window.localStorage[\"sessionKey\"];\n    let userId = window.localStorage[\"userId\"];\n    let url = 'https://chitter-backend-api-v2.herokuapp.com/peeps/' + peep_id + '/likes/' + userId;\n    deleteDataPeep(url, token);\n    listPeepsOnPage();\n  }\n\n// Delete a peep when a button is clicked\n$(\"#delete\").click(function(event){\n    deletePeep(window.localStorage[\"peepId\"]);\n    listPeepsOnPage();\n  });\n\n// Post a peep when the button is clicked\n$(\"#post-peep\").click(function(event){\n    let peep = document.getElementById('peep-text').value;\n    postPeep(peep);\n    $(\"#peep-text\").val(\" \");\n  });\n\n// Show single peep when peep is clicked\n$(\"#peep-list\").click(function(event){\n     if (event.target !== this) {\n       showIndividualPeep();\n       let num = event.target.id;\n       let likes = peeps[num].likes.length;\n       $(\"#full-text\").html(peeps[num].body + \"<br>\");\n       $(\"#full-text\").append(\"<img src = '../public/like.png' id='like-peep'> \" + likes + \" likes\");\n       $(\"#full-text\").append(\"      <img src = '../public/unlike.png' id='unlike-peep'> \");\n       window.localStorage.setItem(\"peepId\",peeps[num].id);\n       listenForUnlike();\n       listenForLike();\n     }\n  });\n\n// Add a like when like button is clicked in full peep text\nfunction listenForLike () {\n  $(\"#like-peep\").click(function(event){\n    likePeep(window.localStorage[\"peepId\"]);\n  });\n}\n\n// Delete a like when un-like button is clicked in full peep text\nfunction listenForUnlike () {\n  $(\"#unlike-peep\").click(function(event){\n    deleteLike(window.localStorage[\"peepId\"]);\n  });\n}\n\n// Sign out when button clicked\n$(\"#sign-out\").click(function(event){\n    logout();\n    setTimeout(function () {\n      checkSession();\n    }, 1000);\n  });\n\n// Create new user when button clicked\n$(\"#create\").click(function(event){\n    createUser($(\"#handle\").val(), $(\"#password\").val());\n  });\n\n// Sign in user when sign in button clicked\n$(\"#sign-in\").click(function(event){\n    login($(\"#handle\").val(), $(\"#password\").val());\n    setTimeout(function () {\n      checkSession();\n    }, 1000);\n  });\n\n// Show list of all peeps when button clicked\n$(\"#all-peeps-button\").click(function(event){\n      window.localStorage.removeItem(\"peepId\");\n      listPeepsOnPage();\n   });\n\n});\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1618739337331
  }
}